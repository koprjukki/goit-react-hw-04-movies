{"version":3,"sources":["services/api.jsx","pages/MovieDetailsPage/MovieInfo.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["KEY","getTrending","axios","get","getMovies","query","getMovieDescription","id","getCast","getReviews","MovieInfo","location","poster_path","title","release_date","vote_average","overview","genres","onGoBack","className","onClick","src","alt","slice","length","map","name","key","to","pathname","state","AsyncCastPage","lazy","AsyncReviewsPage","MovieDetailsPage","movies","locationLink","componentDidMount","props","match","movieId","params","setState","then","data","handleGoBack","history","push","from","this","exact","path","router","MOVIES_CAST","component","MOVIE_REVIEWS","Component"],"mappings":"yIAAA,+LAEMA,EAAM,mCAECC,EAAc,kBAC1BC,IAAMC,IAAN,gEAAmEH,KAEvDI,EAAY,eAACC,EAAD,uDAAS,GAAT,OACxBH,IAAMC,IAAN,4DACsDH,EADtD,iCACkFK,EADlF,iCAIYC,EAAsB,SAACC,GAAD,OAClCL,IAAMC,IAAN,6CACuCI,EADvC,oBACqDP,EADrD,qBAIYQ,EAAU,SAACD,GAAD,OACtBL,IAAMC,IAAN,6CAAgDI,EAAhD,4BAAsEP,KAE1DS,EAAa,SAACF,GAAD,OACzBL,IAAMC,IAAN,6CACuCI,EADvC,4BAC6DP,EAD7D,6B,wHC8CcU,EAhEG,SAAC,GAUZ,IATNC,EASK,EATLA,SACAC,EAQK,EARLA,YACAC,EAOK,EAPLA,MACAC,EAMK,EANLA,aACAC,EAKK,EALLA,aACAC,EAIK,EAJLA,SACAC,EAGK,EAHLA,OACAV,EAEK,EAFLA,GACAW,EACK,EADLA,SAEA,OACC,yBAAKC,UAAU,aACd,4BAAQC,QAASF,GAAjB,YACA,yBAAKC,UAAU,eACbP,GACA,yBACCO,UAAU,MACVE,IAAG,yCAAoCT,GACvCU,IAAI,KAGN,6BACC,4BACET,EADF,KACW,UAAGC,GAAeS,MAAM,EAAG,GADtC,KAGA,2CAAqC,GAApB,UAAGR,GAApB,KACA,wCACA,2BAAIC,GACJ,sCACA,4BACEC,GACAA,EAAOO,OAAS,GAChBP,EAAOQ,KAAI,gBAAGlB,EAAH,EAAGA,GAAImB,EAAP,EAAOA,KAAP,OAAkB,wBAAIC,IAAKpB,GAAKmB,SAK/C,6BACC,qDACA,4BACC,4BACC,kBAAC,IAAD,CACCE,GAAI,CAAEC,SAAS,WAAD,OAAatB,EAAb,SAAwBuB,MAAOnB,EAASmB,QADvD,SAMD,4BACC,kBAAC,IAAD,CACCF,GAAI,CACHC,SAAS,WAAD,OAAatB,EAAb,YACRuB,MAAOnB,EAASmB,QAHlB,gBC7CAC,EAAgBC,gBAAK,kBAC1B,gCAEKC,EAAmBD,gBAAK,kBAC7B,gCAGKE,E,4MACLJ,MAAQ,CAAEK,OAAQ,GAAIC,aAAc,I,EAEpCC,kBAAoB,WAAO,IAAD,EACG,EAAKC,MAAzBC,EADiB,EACjBA,MAAO5B,EADU,EACVA,SACP6B,EAAYD,EAAME,OAAlBD,QACJ7B,EAASmB,OACZ,EAAKY,SAAS,CACbN,aAAczB,EAASmB,MAAMM,eAI/B9B,YAAoBkC,GAASG,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACjC,EAAKF,SAAS,CACbP,OAAQS,Q,EAKXC,aAAe,WAAO,IAAD,EACU,EAAKP,MAA3B3B,EADY,EACZA,SAAUmC,EADE,EACFA,QAClB,OAAInC,EAASmB,MACLgB,EAAQC,KAAKpC,EAASmB,MAAMkB,MAGhCrC,EAASmB,QAAU,GACfgB,EAAQC,KAAKpC,EAASkB,eAE9BiB,EAAQC,KAAK,Y,uDAGJ,IACDZ,EAAWc,KAAKnB,MAAhBK,OAER,OACC,oCACC,kBAAC,EAAD,eACCxB,SAAUsC,KAAKX,MAAM3B,UACjBwB,EAFL,CAGCjB,SAAU+B,KAAKJ,gBAEhB,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAMC,IAAOC,YAAaC,UAAWvB,IAClD,kBAAC,IAAD,CAAOoB,KAAMC,IAAOG,cAAeD,UAAWrB,S,GA1CnBuB,aAgDhBtB","file":"static/js/MovieDescriptionPage.4e47b857.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst KEY = \"c4bc95402830765a22c2cbbc020d255a\";\n\nexport const getTrending = () =>\n\taxios.get(`https://api.themoviedb.org/3/trending/all/day?api_key=${KEY}`);\n\nexport const getMovies = (query = \"\") =>\n\taxios.get(\n\t\t`https://api.themoviedb.org/3/search/movie?api_key=${KEY}&language=en-US&query=${query}&page=1&include_adult=false`,\n\t);\n\nexport const getMovieDescription = (id) =>\n\taxios.get(\n\t\t`https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}&language=en-US`,\n\t);\n\nexport const getCast = (id) =>\n\taxios.get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`);\n\nexport const getReviews = (id) =>\n\taxios.get(\n\t\t`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}&language=en-US&page=1`,\n\t);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst MovieInfo = ({\n\tlocation,\n\tposter_path,\n\ttitle,\n\trelease_date,\n\tvote_average,\n\toverview,\n\tgenres,\n\tid,\n\tonGoBack,\n}) => {\n\treturn (\n\t\t<div className=\"container\">\n\t\t\t<button onClick={onGoBack}> Go back</button>\n\t\t\t<div className=\"description\">\n\t\t\t\t{poster_path && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tclassName=\"img\"\n\t\t\t\t\t\tsrc={`https://image.tmdb.org/t/p/w400${poster_path}`}\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t></img>\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<h2>\n\t\t\t\t\t\t{title} ({`${release_date}`.slice(0, 4)})\n\t\t\t\t\t</h2>\n\t\t\t\t\t<p> User Score: {`${vote_average}` * 10}%</p>\n\t\t\t\t\t<h2>Overview</h2>\n\t\t\t\t\t<p>{overview}</p>\n\t\t\t\t\t<h2>Genres</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{genres &&\n\t\t\t\t\t\t\tgenres.length > 0 &&\n\t\t\t\t\t\t\tgenres.map(({ id, name }) => <li key={id}>{name}</li>)}\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<p>Additional information</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\tto={{ pathname: `/movies/${id}/cast`, state: location.state }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCast\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\tpathname: `/movies/${id}/reviews`,\n\t\t\t\t\t\t\t\tstate: location.state,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReviews\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default MovieInfo;\n","import React, { Component, lazy } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport { getMovieDescription } from \"../../services/api\";\nimport router from \"../../services/router\";\n\nimport MovieInfo from \"./MovieInfo\";\n\nconst AsyncCastPage = lazy(() =>\n\timport(\"../CastPage/CastPage\" /* webpackChunkName: \"CastPage\" */),\n);\nconst AsyncReviewsPage = lazy(() =>\n\timport(\"../ReviewsPage/ReviewsPage\" /* webpackChunkName: \"ReviewsPage\" */),\n);\n\nclass MovieDetailsPage extends Component {\n\tstate = { movies: [], locationLink: \"\" };\n\n\tcomponentDidMount = () => {\n\t\tconst { match, location } = this.props;\n\t\tconst { movieId } = match.params;\n\t\tif (location.state) {\n\t\t\tthis.setState({\n\t\t\t\tlocationLink: location.state.locationLink,\n\t\t\t});\n\t\t}\n\n\t\tgetMovieDescription(movieId).then(({ data }) =>\n\t\t\tthis.setState({\n\t\t\t\tmovies: data,\n\t\t\t}),\n\t\t);\n\t};\n\n\thandleGoBack = () => {\n\t\tconst { location, history } = this.props;\n\t\tif (location.state) {\n\t\t\treturn history.push(location.state.from);\n\t\t}\n\n\t\tif (location.state === {}) {\n\t\t\treturn history.push(location.pathname);\n\t\t}\n\t\thistory.push(\"/movies\");\n\t};\n\n\trender() {\n\t\tconst { movies } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<MovieInfo\n\t\t\t\t\tlocation={this.props.location}\n\t\t\t\t\t{...movies}\n\t\t\t\t\tonGoBack={this.handleGoBack}\n\t\t\t\t/>\n\t\t\t\t<Route exact path={router.MOVIES_CAST} component={AsyncCastPage} />\n\t\t\t\t<Route path={router.MOVIE_REVIEWS} component={AsyncReviewsPage} />\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}